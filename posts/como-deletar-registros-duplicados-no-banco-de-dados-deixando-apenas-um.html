<!DOCTYPE html>
<html lang="pt-BR">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width">
	<title>George Moura - Desenvolvedor Web e Mobile</title>
	<link rel="canonical" href="http://georgemoura.com.br/" />
	<script type="text/javascript">
	var _gaq = _gaq || [];
	_gaq.push(['_setAccount', 'UA-38960674-1']);
	_gaq.push(['_trackPageview']);
	(function() {
	var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
	ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
	var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	})();
	</script>
</head>
<body>
<header>
		<a class="home-link" href="/" title="George Moura" rel="home">
			<h1 class="site-title">George Moura</h1>
			<h4 class="site-description">Programador PHP, Ruby, Java, Javascript e Mobile</h4>
		</a>
	</header>
<article id="post-255" class="post-255 post type-post status-publish format-standard hentry category-post tag-banco-de-dados tag-mysql tag-registros-duplicados tag-sql">
	<header class="entry-header">
		
				<h1 class="entry-title">Como deletar registros duplicados no banco de dados, deixando apenas um</h1>
		
		<div class="entry-meta">
			<span class="date"><a href="http://georgemoura.com.br/como-deletar-registros-duplicados-no-banco-de-dados-deixando-apenas-um/" title="Link permanente para Como deletar registros duplicados no banco de dados, deixando apenas um" rel="bookmark"><time class="entry-date" datetime="2013-10-05T09:20:19+00:00">5 de outubro de 2013</time></a></span> | <span class="categories-links"><a href="http://georgemoura.com.br/category/post/" title="Ver todos os posts em Post" rel="category tag">Post</a></span><span class="tags-links"><a href="http://georgemoura.com.br/tag/banco-de-dados/" rel="tag">banco de dados</a>, <a href="http://georgemoura.com.br/tag/mysql/" rel="tag">mysql</a>, <a href="http://georgemoura.com.br/tag/registros-duplicados/" rel="tag">registros duplicados</a>, <a href="http://georgemoura.com.br/tag/sql/" rel="tag">sql</a></span> | <span class="author vcard"><a class="url fn n" href="http://georgemoura.com.br/author/admin/" title="Ver todos posts por George Moura" rel="author">George Moura</a></span>					</div><!-- .entry-meta -->
	</header><!-- .entry-header -->

		<div class="entry-content">
		<p>Pessoal, vim deixar um post bem pequeno, mas que foi minha salvação e achei legal compartilhar. Estou em um projeto e acabei precisando fazer uma migração de dados, o problema é que meu script acabou duplicando as informações no banco de dados, imagine o problema, a sorte é que era um banco de desenvolvimento e que eu poderia apagar a tabela e restaurar, mas não queria ter esse trabalho e resolvi pesquisar uma solução.</p>
<p>Vamos ao que interessa, esse script sql ajudará a apagar os registros duplicados no banco de dados, deixando apenas um, o último nesse caso.</p>
<p>Assumindo que você use o banco de dados Mysql e tenha uma tabela chamada “nomes” e que essa tabela tenha os campos id e nome. Essa sintaxe pode ser usada em outros bancos, digite o seguinte comando:<br>
<code><br>
DELETE a FROM nomes AS a, nomes AS b WHERE a.nome=b.nome AND a.id &lt; b.id<br>
</code></p>
<p>Explicando:</p>
<p>nomes: É a tabela com os registros duplicados.<br>
nome: É o campo para comparação dos registros.<br>
id: É a chave primária da tabela.</p>
<p>Caso queira apagar todos os registros duplicados, sem deixar nenhum é só trocar o “&lt;” por “!=”</p>
<p>Pronto! É isso aí pessoal, muito simples né?</p>
<div class="sharedaddy sd-block sd-social sd-gplus"><h3 class="sd-title">Google+</h3><div class="sd-content"><a href="https://plus.google.com/117003595797551984923"><img src="https://lh4.googleusercontent.com/-5-TBgq-jI6s/AAAAAAAAAAI/AAAAAAAABXE/uTxm9ijjOnw/photo.jpg?sz=40" alt="George Moura" width="20" height="20" align="absmiddle"> </a><a rel="author" href="https://plus.google.com/117003595797551984923" class="gplus-profile">George Moura</a><span class="g-follow-wrapper"><div id="___follow_0" style="text-indent: 0px; margin: 0px; padding: 0px; border-style: none; float: none; line-height: normal; font-size: 1px; vertical-align: baseline; display: inline-block; width: 110px; height: 15px; background: transparent;"><iframe frameborder="0" hspace="0" marginheight="0" marginwidth="0" scrolling="no" style="position: static; top: 0px; width: 110px; margin: 0px; border-style: none; left: 0px; visibility: visible; height: 15px;" tabindex="0" vspace="0" width="100%" id="I0_1432236272515" name="I0_1432236272515" src="https://apis.google.com/u/0/_/widget/render/follow?usegapi=1&amp;rel=author&amp;height=15&amp;origin=http%3A%2F%2Fgeorgemoura.com.br&amp;url=https%3A%2F%2Fplus.google.com%2F117003595797551984923&amp;gsrc=3p&amp;ic=1&amp;jsh=m%3B%2F_%2Fscs%2Fapps-static%2F_%2Fjs%2Fk%3Doz.gapi.pt_BR.rkfQaIyaSHY.O%2Fm%3D__features__%2Fam%3DAQ%2Frt%3Dj%2Fd%3D1%2Ft%3Dzcms%2Frs%3DAGLTcCO4ZJWY5yL3dqJczsJZIkIl2DRkGA#_methods=onPlusOne%2C_ready%2C_close%2C_open%2C_resizeMe%2C_renderstart%2Concircled%2Cdrefresh%2Cerefresh%2Conload&amp;id=I0_1432236272515&amp;parent=http%3A%2F%2Fgeorgemoura.com.br&amp;pfname=&amp;rpctoken=18575081" data-gapiattached="true"></iframe></div></span></div></div>			</div><!-- .entry-content -->
	
	<footer class="entry-meta">
		
			</footer><!-- .entry-meta -->
</article>
</body>
</html>