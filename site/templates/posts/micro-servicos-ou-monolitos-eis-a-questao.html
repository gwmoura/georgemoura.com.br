<article>
  <header>
    <h1 class="entry-title">{{ .Title }}</h1>
    <div class="entry-meta">
      <span class="date">
        <a href="{{ .Link }}" title="Link permanente para {{ .Title }}" rel="bookmark">
          <time class="entry-date" datetime="{{ .CreatedAt }}">{{ .CreatedAt }}</time>
        </a>
      </span>
    </div><!-- .entry-meta -->
  </header>

  <div class="entry-content">
    <h1>Micro serviços ou Monolíticos? Eis a questão!<h1>
    <p>
      Micro serviços ou Monolíticos? O que é melhor? A resposta para essa pergunta é a mesma para muitas para muitas perguntas do universo de desenvolvimento de software... -- "Depende" :)
      E depende porquê? Posso listar alguns motivos:
      <ul>
        <li>Do tamanho da sua equipe</li>
        <li>Do tamanho da sua solução</li>
        <li>Do problema que você está enfrentando</li>
        <li>Do trabalho que você quer ter para manter as coisas funcionando</li>
        <li>Do seu orçamento</li>
      </ul>

      Esses são alguns fatores que consigo lembrar nesse momento... Antes de continuar vou explicar um pouco sobre o que é microserviços e monolíticos.
    </p>
    <p><b>Um microserviço ou microservice é um software como outro qualquer, mas o que o define é o fato de ter apenas uma responsabilidade (enviar e-mail ou autenticar um usuário ou precessar uma imagem) e estar disponível para ser utilizado por outros serviços, quando você vários microserviços se comunicando entre si, temos o que pode ser chamar de uma arquitetura em microserviços. O que caracteriza um microserviço é o fato dele poder ser executado e implantado sem depender de qualquer outro serviço, ou seja você consegue implantar ou remover o serviço na hora que quiser, além disso é importante dizer que ele possui seu próprio banco de dados. Isso lhe permite ter algumas vantagens, que podemos falar mais abaixo.</p>
    <p>Já um monolito é também um software como qualquer outro que faz TUDO!!! kkkkkkkkkk, isso mesmo os monolitos são conhecidos por serem softwares mais parrudos que possuem muitas responsabilidades e fazem de tudo, enviam e-mail, autenticam usuários, geram relatórios, cadastram coisas e por aí vai, essa seria a característica mais marcante e fidedigna de um monolito. Existem muitas vantagens de usar um monolito e para mim a mais vantajosa é a manutenção, mas de novo, isso depende...</p>
    <p>Na minha humilde opnião usar microserviços é bom, desde que você realmente precise, sou adepto de começar os projetos com monolitos e se necessário, aos poucos, você vai extraindo as partes do seu monolito em pequenos serviços. Qual a vantagem disso? Você consegue ter um controle melhor do projeto e não tem um esforço incial grande.</p>
    <p>
      Vou explicar melhor. Começando um projeto do zero numa arquitetura de microserviços pode prejudicar a entrega em vários aspectos pense no setup inicial de fazer isso.<br/>
      * Separar responsabilidades em serviços
      * Codificar a estrutura de cada serviço
        * Banco de dados
        * Autenticação
        * Controle de acesso
        * Regras de negócio
      * Deploy de cada serviço
      * Service discovery
      * DNS
      * Testes de integração - Você precisa garantir que as coisas funcionem bem juntas
      * Compatibilidade da API entre serviços - Ser você a forma como retorna algo em um serviço, precisa refatorar todos os serviços que usam esse endpoint
      * E muitas outras coisas
      <br/>
      Começando com um monolito o setup inicial é o mesmo setup de um microserviço, porém você isso apenas 1 únicas vez e não precisa se preocupar com os outros problemas que uma arquitetura em microserviços exige.

      Se sua preocupação é escalabilidade separação de responsabilidades, você pode fazer isso usando bons padrões de projeto e separando seu monolito em módulos (isso já facilita a extração desse módulo para microserviço caso necessário), existem muitos projetos que trabalham desse jeito, hoje em dia a grande maioria das linguagens dão suporte a instalação de bibliotecas externas ou internas :). Ruby possui as gems, node possui os pacotes npm, php possui os pacotes do composer, java possui os pacotes do Maven e por aí vai, como programador é importante você conhecer como esses pacotes são feitos e como você pode criar bibliotecas internas "instaláveis".

      Comentando um pouco sobre os dependes que citei acima:

      <b>Do tamanho da sua equipe</b>

      Pense num software simples, um sistema que controla as turmas de uma escola, por alto temos aqui um serviço de autenticação, um serviço para gerenciar alunos, um serviço para gerenciar usuários, um serviço para gerenciar turmas, só aqui são 4 serviços, consequentemente 4 softwares rodando, em servidores separados, com seus próprios bancos de dados, manter isso com uma equipe pequena é fácil, mas pense agora na sua realidade como seria.

      <b>Do tamanho da sua solução</b>

      Se você possui uma solução pequena, um software com poucas fucnionalidades, não vale a pena você querer quebrar isso em microserviços, pelo mesmo motivo que falei acima.

      <b>Do problema que você está enfrentando</b>

      Microserviços, na minha visão são muito bem vindos quando partes do seu software grande começam a engasgar, por exemplo, imagine que seu software possui uma funcionalidade de gerar um PDF a partir de uma página HTML, inicialmente o processo era feito na hora, pouco tempo depois, você implementa essa mesma funcionalidade em outra parte do software, já são dois lugares usando a mesma função de renderizar PDF, daí a demanda começa a crescer e gerar esse PDF na hora que o usuário pede começa a ficar lento, então você implementa um mecanismo de fila onde o usuário agora solicita e você envia esse PDF por e-mail, depois de um tempo mais pontos do sistema começam a usar a mesma funcionalidade de gerar PDF e fazer isso detro do mesmo servidor começa a ficar inviável, pois você precisa começa a consumir muito recusro de IO e cpu e isso começa a concorrer com a aplicação principal e etc... Quando você chegar nesse nível talvez seja interessante criar um microserviço responsável por gerar PDFs.

      <b>Do trabalho que você quer ter para manter as coisas funcionando</b>

      Manter vários serviços rodando não é uma tarefa fácil, se preocupar com a segurança de um sistema é diferente de se preocupar com a segurança de vários, a infra de um software rodando na web já é algo complexo, imagine agora lidar com essa complexidade multiplicada, sem falar nos testes de integração para garantir que a mudança no seu serviço não vai quebrar outros, compatibilidade de comunicação entre serviços, em alguns casos você precisa duplicar dados entre os serviços, imagine ter que se preocupar em sincronizar esses dados e na frequência que isso precisa ser feito.

      <b>Do seu orçamento</b>

      De novo, manter vários softwares rodando requer custo por cada um, mesmo que você rode cada serviço em um container docker, seus serviços juntos vão consumir mais do que um monolito consumiria, isso sem falar nos custos relacionados infra de rede necessária para manter a comunicação entre os serviços.
    </p>
    <p>Então é isso, na minha opnião começar o projeto de cara usando microserviços é loucura e principalmente pelo fato de que o setup inicial é custoso e manter isso é muito trabalhoso, começar rápido e simples é a melhor opção, com o monolito em poucas semanas você já tem algo funcional e a medida que sua necessidade for aumentado comece a pensar em novas arquiteturas. Software é maleável, você pode evoluí-lo aos poucos, se preocupe em fazê-lo de uma forma que seja fácil manter e evoluir.</p>
    <p>Arquitetura em microserviços é uma ferramenta que precisa ser usada por quem entende, estude as ferramentas disponíveis e use a que mais se adequar ao problema a ser resolvido.</p>
    <p>
      É isso aí, espero ter ajudado e contrubuído com algo.<br/>
      Um forte abraço.
    </p>
  </div>
  <footer>

  </footer>
</article>
